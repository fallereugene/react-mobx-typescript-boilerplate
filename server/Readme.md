## Назначение приложения

Основное назначение приложения - предоставление возможности разработки с реальными сервером в случаях, если тестовый (иной севрвер) не предоставлен.
Так как основное назначение - это лишь обеспечение сетевого взаимодействия с целью получения (обновления) данных между фронтовым приложением и сервером, а не серверная разработка как таковая, то приложение не подразумевает наличия некоторых слоев приложения: бизнес-уровня(use cases), сущностей и т.д.

## Окружение

Для удобства работы над проектом используются инструменты из **Node.js** и **npm**. Все необходимые настройки произведены. Убедитесь, что на рабочем компьютере установлен актуальный LTS релиз Node.js**. Актуальная версия **Node.js\*\* совпадает с основной поддерживаемой версией бойлерплейта и указана в [`.nvmrc`](../../.nvmrc). Затем, в терминале, перейдите в директорию с проектом и запустите команду:

```bash
npm i
```

## Переменные окружения

В корень проекта необходимо добавить `.env` файл, который будет содержать переменные окружения. Например, адрес базы данных, порт и т.д.

## Поддерживаемые переменные

Приложение поддерживает следующие переменные:

`PORT` - прослушиваемый порт приложения
`HOST` - адрес хоста приложения
`BASE_API_URL` - базовый путь API.
`WEB_SOCKET_HUB_CONNECTION_PORT` - порт веб-сокет соединения

## Как добавлять роуты.

Для добавления роута необходимо сделать следующие действия:

-   В директории `modules` создать нужную директорию (сущность) и добавить контроллер.
-   В файле `application.ts` зарегистрировать роут: `this.express.use(Route.Todos, this.todoController.router);`
-   Во входной точке приложения зарегистрировать контроллер: `container.bind<IController>(ContainerIoC.TodoController).to(TodoController).inSingletonScope();`. Это нужно для того, чтобы была возможность использования `DI`.

Это все шаги для того, чтобы добавить и зарегистрировать роут и соответствующие обработчики.

В каждый контроллер покинут сервис для работы с моковыми данными (`storeService`). Все данные и соответствующие типы хранятся в `/services/store`.

Пример регистрации роутера и обработчиков можно посмотреть на примере роута `TodoController` в вышеописанных директориях и файлах.

### Сценарии

В `package.json` предопределено несколько сценариев.

-   `build` - выполняет сборку проекта: удаляет ранее скомпилированный проект и компилирует заново
-   `clean` - удаляет директорию `dist`. Используется перед компиляцией
-   `lint` - запуск проверки проекта статическим анализатором кода **ESLint**. Линтер проверяет файлы только внутри директории `src`. При запуске данной команды, ошибки выводятся в терминал.
-   `start` - запуск приложения

## Структура проекта

### Директория `src`

Исходный код проекта: компоненты, модули и так далее. Структура директории `src` может быть произвольной.

```
├──src/
      ── constants/ - сквозные константы приложения (константы, используемые разными частями приложения)
      ── contracts/ - сквозные контракты приложения (контракты, используемые разными частями приложения)
      ── middlewares/ - миддлвэры
      ── modules/ - модули приложения, разбитые по сущностям
      ── services/ - сервисы
      application.ts - основной модуль приложения, где регистрируются роутеры, миддлвэры и т.д.
      main.ts - входная точка приложения
```
